{% extends 'Perekrestok/base.html' %}
{% load static %}
{% block content %}
{% load page_tags %}
{% get_all_payment_methods as payment_types %}
<link type="text/css" rel="stylesheet" href="{% static 'Perekrestok/css/create_order.css' %}">

{% if has_items %}
    <h1 id="order-label" >ÐžÑ„Ð¾Ñ€Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð·Ð°ÐºÐ°Ð·Ð°ðŸ›’</h1>

    <form id="order-form"  method="POST">
        {% csrf_token %}
        {% if error_message %}
        <h1 class="error-message" >{{error_message}}</h1>
        {% endif %}
        <div class="create-order-flex">
        <input class="input-flex-element form-element" type="text" name="name" placeholder="Ð˜Ð¼Ñ" value="{{name}}" >
        <input class="input-flex-element form-element" type="tel" name="phone" placeholder="ÐÐ¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°" value="{{phone}}">
        <input class="input-flex-element form-element" type="text" name="address" placeholder="ÐÐ´Ñ€ÐµÑ" value="{{address}}" >
        <input class="input-flex-element form-element" type="text" name="email" placeholder="ÐŸÐ¾Ñ‡Ñ‚Ð°" value="{{email}}" >

        {% for el in payment_types %}
        <div class="input-flex-element">
            {% if el.id == payment %}
            <input class="choose_type" type="radio" value="{{payment}}" checked  name="PaymentType" >
            <h1 class="choose_type_label" data-id="{{payment}}" >{{el.name}}</h1>
            {% else %}
            <input class="choose_type" type="radio" value="{{el.id}}"name="PaymentType" >
            <h1 class="choose_type_label" data-id="{{el.id}}" >{{el.name}}</h1>
            {% endif %}
        </div>
        {% endfor %}
        <h1 id="cart-state" >Ð’ ÐºÐ¾Ñ€Ð·Ð¸Ð½ÐºÐµ {{total_count}} Ñ‚Ð¾Ð²Ð°Ñ€Ð¾Ð². <br> Ðš Ð¾Ð¿Ð»Ð°Ñ‚Ðµ {{total_price}} Ñ€ÑƒÐ±Ð»ÐµÐ¹</h1>
        <button type="submit"> ÐžÐ¿Ð»Ð°Ñ‚Ð¸Ñ‚ÑŒ </button>

        </div>
    </form>
{% else %}
    <h1 id="empty-cart">Ð§Ñ‚Ð¾-Ñ‚Ð¾ Ð²Ñ‹ Ð¿ÐµÑ€ÐµÐ¿ÑƒÑ‚Ð°Ð»Ð¸ ðŸ˜¡</h1>
    <a class="to-catalog" href="{% url 'catalog' %}" >ÐšÐ°Ñ‚Ð°Ð»Ð¾Ð³<a>
{% endif %}
{% endblock %}